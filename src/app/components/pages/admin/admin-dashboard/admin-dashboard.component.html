<div class="dashboard-content">
  <h2>Bienvenido, Admin!</h2>

  <img appLazyLoad="assets/libros_killa.png" alt="Banner" class="dashboard-banner" />

  <div *ngIf="errorMensaje" class="error-mensaje">
    <p>{{ errorMensaje }}</p>
    <button (click)="reloadStats()">Reintentar</button>
  </div>

  <section class="stats-grid" aria-labelledby="stats-heading">
    <h3 id="stats-heading" class="visually-hidden">Estad√≠sticas</h3>

    <ng-container *ngIf="isLoading">
      <div class="stat-card skeleton" *ngFor="let s of [1,2,3]"></div>
    </ng-container>

    <ng-container *ngIf="!isLoading && !errorMensaje">
      <div class="stat-card">
        <span class="value">{{ cuentosPublicados }}</span>
        <span class="label">Cuentos publicados</span>
      </div>
      <div class="stat-card">
        <span class="value">{{ pedidosEnProceso }}</span>
        <span class="label">Pedidos en proceso</span>
      </div>
      <div class="stat-card">
        <span class="value">{{ usuariosRegistrados }}</span>
        <span class="label">Usuarios registrados</span>
      </div>
    </ng-container>
  </section>

  <section class="users-section" *ngIf="!isLoading && !errorMensaje">
    <h3>Usuarios registrados</h3>
    <div class="users-grid">
      <div class="user-card" *ngFor="let user of usuarios">
        <p class="user-name">{{ user.nombre }} {{ user.apellido }}</p>
        <p class="user-email">{{ user.email }}</p>
        <p class="user-phone">{{ user.telefono }}</p>
        <p class="user-role">{{ user.role }}</p>
      </div>
    </div>
  </section>
</div>
