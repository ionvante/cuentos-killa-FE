<div class="detalle-pagina">
  <div class="detalle-grid">
    <div class="imagen-skeleton" *ngIf="cargandoImagen"></div>

    <!-- Imagen del cuento -->
    <img 
      [src]="cuento?.imagenUrl || 'assets/placeholder-cuento.jpg'" 
      alt="Imagen del cuento"
      (error)="cargarImagenPlaceholder($event)"
      (load)="imagenCargada()"
       style="cursor: pointer;"
      [class.loaded]="!cargandoImagen"
    />
    </div>

    <div class="detalle-info">
      <h1>{{ cuento?.titulo }}</h1>
      <div class="autor-precio">
        <h3>Autor: {{ cuento?.autor }}</h3>
        <span class="precio">S/ {{ cuento?.precio | number:'1.2-2' }}</span>
      </div>
      <p class="stock">Stock: {{ cuento?.habilitado ? cuento?.stock : 'Sin stock' }}</p>

      <p class="descripcion">{{ cuento?.descripcionCorta }}</p>

      <div class="extra-info">
        <p><strong>Editorial:</strong> {{ cuento?.editorial }}</p>
        <p><strong>Tipo de Edición:</strong> {{ cuento?.tipoEdicion }}</p>
        <p><strong>Páginas:</strong> {{ cuento?.nroPaginas }}</p>
        <p><strong>Publicado en:</strong> {{ cuento?.fechaPublicacion | date }}</p>
        <p><strong>Edad Recomendada:</strong> {{ cuento?.edadRecomendada }}</p>
      </div>

      <div class="acciones">
        <button class="boton-dorado" (click)="agregarAlCarrito(); $event.stopPropagation()" [disabled]="!cuento?.habilitado">
          Agregar al carrito
        </button>
        <button class="boton-volver" (click)="volver(); $event.stopPropagation()">Volver</button>
      </div>
    </div>
</div>