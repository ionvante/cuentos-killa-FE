<div class="drawer" [class.open]="drawer.isOpen$ | async" role="navigation">
  <header class="drawer-header">
    <a class="brand" routerLink="/home" (click)="close()">
      <img src="assets/killa.bmp" alt="Cuentos de Killa" class="logo" />
      <span>Cuentos de Killa</span>
    </a>
    <button class="close-btn" (click)="close()" aria-label="Cerrar">✖</button>
  </header>
  <nav class="drawer-links">
    <a routerLink="/home" (click)="close()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M3 9L12 2L21 9V20C21 20.55 20.55 21 20 21H4C3.45 21 3 20.55 3 20V9Z" stroke="#FFAD60" stroke-width="2"/>
        <path d="M9 21V12H15V21" stroke="#FFAD60" stroke-width="2"/>
      </svg>
      Inicio
    </a>
    <a routerLink="/cuentos" (click)="close()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 4H20V20L12 16L4 20V4Z" stroke="#FFAD60" stroke-width="2"/>
      </svg>
      Cuentos
    </a>
    <a routerLink="/pedidos" (click)="close()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M6 9V20H18V9" stroke="#FFAD60" stroke-width="2"/>
        <path d="M3 5H21V9H3V5Z" stroke="#FFAD60" stroke-width="2"/>
      </svg>
      Pedidos
    </a> 
    <a routerLink="/login" (click)="close()" *ngIf="!user">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M10 17L15 12L10 7" stroke="#FFAD60" stroke-width="2"/>
        <path d="M4 12H15" stroke="#FFAD60" stroke-width="2"/>
      </svg>
      Login
    </a>
    <a routerLink="/admin/dashboard" (click)="close()" *ngIf="user?.role === 'ADMIN'">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 4H10V10H4V4Z" stroke="#FFAD60" stroke-width="2"/>
        <path d="M14 4H20V10H14V4Z" stroke="#FFAD60" stroke-width="2"/>
        <path d="M4 14H10V20H4V14Z" stroke="#FFAD60" stroke-width="2"/>
        <path d="M14 14H20V20H14V14Z" stroke="#FFAD60" stroke-width="2"/>
      </svg>
      Admin
    </a>
    <button class="logout-btn" *ngIf="user" (click)="logout()">Cerrar sesión</button>
  </nav>
  <button class="cart-button" routerLink="/checkout" (click)="close()" *ngIf="user?.role === 'USER'">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M6 6H21L20 12H7" stroke="#A66E38" stroke-width="2"/>
      <circle cx="9" cy="20" r="1" stroke="#A66E38" stroke-width="2"/>
      <circle cx="17" cy="20" r="1" stroke="#A66E38" stroke-width="2"/>
    </svg>
    <span class="badge" *ngIf="itemCount > 0">{{ itemCount }}</span>
  </button>
</div>
<button class="drawer-backdrop" [class.show]="drawer.isOpen$ | async" (click)="close()" aria-label="Cerrar menú"></button>
